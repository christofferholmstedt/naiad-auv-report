% Do NOT change this "Section" title
% and do NOT add more "Section" level titles.
\section{Introduction}\label{sec:introduction}
This report covers the work of the vision system software team of Naiad, which was the project undertaken as part of the course Project in Advanced Embedded Systems, DVA425, at M\"{a}lerdalens H\"{o}gskola in the fall semester of 2013. The team consisted of two international students in the final year of the Intelligent Embedded Systems program at the university.
The purpose of this team was to develop a vision system for an autonomous underwater vehicle, AUV, capable of providing real-time object detection, recognition, and velocity estimation. The system should also be capable of recreating a three dimensional map of an object using stereo vision.

\subsection{Problems faced}
One of the challenges faced by all underwater vision systems is the ever-changing lighting conditions under water. Rays of light shining down through the water can affect the image detection system. A system was needed to deal with this light disturbance.

\subsection{Software/Hardware}
There were two hard requirements of the project for the vision system. The first was that Ada should be the main programming language. This was to introduce safety critical features to the code and make the system very robust and safety critical. The other requirement was that the software should be developed for the research platform GIMME-2 \cite{web:GIMME2}. 
For the real time image capture and perception OpenCV \cite{web:OpenCV} was chosen and interfaced with the GIMME-2 and ADA. For the three Dimensional reconstruction Point Cloud Library \cite{web:PCL}, PCL, was chosen and also interfaced to work through Ada. The operating system chosen to develop the software was Ubuntu 12.04.

\subsubsection{Software/components decisions \& reasons}
\begin{enumerate}
  \item GIMME2 \\ It was a hard requirement from the customer. A state of the art platform described in detail in the hardware report.
  \item Ada \\ It was a hard requirement from the customer. Introduces safety critical characteristics to the vision software system.
  \item OpenCV \\ It seemed to be the obvious choice after a research was done on the state of the art technologies, and it was found that this library provides easy access to quite a few of the methods intended to be used in the system.
  \item PCL \\ The main decision to make with three dimensional (3D) reconstruction was to choose between opencv and point cloud library to handle the three dimensional reconstruction. Both methods have advantages and disadvantages. opencv, which was already installed and operating well on the system. However to use opencv the system has to be trained to recognise objects and this introduces restrictions to the objects that can be detected by the system.
Point cloud library does not have to be trained to reconstruct the images received from the stereo vision system, but it does mean introducing a new software library component to the system, binding to ada and adapting the makefile to handle the new library.
It was decided that the greater flexibility given by point cloud analysis would warrant the extra work in implementing it into the system.
\end{enumerate}

\subsubsection{OpenCV with Ada}
Interfacing openCV with Ada would be a problem. Extensive research did not yield any instances of the current version of OpenCV (2.4.7) having support for ada. Bindings were found for an older version of OpenCV (2.2) \cite{web:oldAdaBindings} but as OpenCV has undergone significant changes since then, most notably the method in which image data is handled, these could not be used.

\subsubsection{PCL with Ada}
As point cloud library is a relatively new software, 2011, \cite{Rusu_ICRA2011_PCL} its support of different languages is limited. Much like OpenCV a method to incorporate pcl to ada was needed.

Hardware Platform
The state of the art hardware platform used for the project, the GIMME-2, presented several challenges to the software team. As the platform was state of the art, support for developing software for it was limited.