% Do NOT change this "Section" title
% and do NOT add more "Section" level titles.
\section{Introduction}\label{sec:introduction}
As a part of the Space plug-and-play Avionics requirement one part
focused on IP over CAN. The following introduction will give a short
introduction to the Internet Protocol (IP) and the Controller Area Network
(CAN or CAN Bus).

% You can use how many "subsections" and "subsubsections" you like.
\subsection{Internet Protocol (IP)}
The Internet Protocol is the main protocol for addressing different hosts on a
single or across multipe link networks. Internet Protocol version 4 is the
version currently most hosts use but with no more addresses available
for new devices a move to Internet Protocol version 6 is currently ongoing.

\subsubsection{IP version 4 (IPv4)}\label{introduction:ipv4}
IPv4 originally defined as a standard in September 1981 \cite{web:rfc791} has
seen a few updates throughout the years. The core part is that each host
connected to a network has a 32 bit address. For readability this address
is often written in decimal form as four octets (e.g. 192.168.0.1).

As the number of connected devices grew more than expected in the nineteen-nineties
"Network Address Translation" (NAT) was introduced to limit the number of
publically accessible IP addresses assigned and improve routing for Internet
Service Providers \cite{web:rfc1631, web:rfc1918, web:rfc3022}.

One of the most common ways to assign IP addresses on a network is through the
Dynamic Host Configuration Protocol (DHCP) \cite{web:rfc2131, web:rfc2132, web:rfc4361}.
When a host connects to the network, the client, it sends a DHCP request and the DHCP
server(s) available on the network replies back with a DHCP offer with a free
IP address the new host can use. As identification the client use either its
MAC Address or another client identification value depending of version of the
protocol that is used. After this process end-to-end communication is possible
within the network.

\subsubsection{IP version 6 (IPv6)}
IPv6 was first specified as proposed standard RFC 1883 \cite{web:rfc1883} in
December 1995 now obsoleted by RFC 2460 \cite{web:rfc2460}. The motiviation for
its creation is that it was in the end of nineteen-eighties apparent that the
IPv4 address space was too small. Instead of the 32 bits addresses in IPv4 an
IPv6 address consists of 128 bits. For readability this address is
written in hexadecimal form in 8 groups separated by colons
(e.g. 2a00:860:340:aabf:aabf:baad:3423:495). RFC 4291 defines the IPv6
addressing architecture \cite{web:rfc4291} while RFC 5952 \cite{web:rfc5952}
defines recommended text representation of IPv6 addresses.

In comparison with IPv4 the address assignment can be done in two different
ways. Similiar to DHCP, DHCPv6 exists and works in similiar manner
\cite{web:rfc3315}. If DHCPv6 isn't available "Stateless Address
Autoconfiguration" (SLAAC) is a way for each host to generate and set a unique
address for each of its interfaces.
This also includes what is called "Duplicate Address Detection" to prevent
multiple hosts from using the same IPv6 addresses \cite{web:rfc4862, web:rfc4941}.

\subsection{Controller Area Network (CAN)}
The CAN protocol is a message based broadcast protocol developed and specified
by ROBERT BOSCH GmbH (Bosch). CAN Specification 2.0 was released in September
1991 and consists of two parts, A and B. An implementation of the CAN
Specification must comply with either of the two parts or both. The main
difference is the length of message IDs which in the standard format is 11 bits
long and in the extended format is 29 bits long. Part A requires support for
the standard format while Part B implementations must support
standard format and extended format \cite{standard:can_bus}.

The key part of the CAN Bus protocol is that all hosts connected to the same
bus will be able to read simultaneously from the bus, it's up to each host to
filter out the wanted messages. The filtering process is done by specifying one
or multiple masks on each host that is used when reading incoming message
IDs.

One important aspect is that if multiple hosts transmit a message at the same
time with the same message ID but with different payloads the CAN Bus will
enter error state. Multiple hosts are not allowed to transmit messages with the
same message ID.
